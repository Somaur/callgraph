<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>callgraph.callgraph</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>CallGraph</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="yunemregul@gmail.com" url="https://github.com/yunusemregul">Yunus Emre Gül</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <p><strong>CallGraph</strong> visualizes caller–callee relationships for any Java method and lets you jump straight to definitions or call sites.</p>

    <h3>Key features</h3>
    <ul>
      <li>Create a call graph from the current caret position (Alt+Shift+E / Option+Shift+E on&nbsp;macOS).</li>
      <li>Click a node to open the method; click an edge to open the exact calling line.</li>
      <li>Pan and zoom to inspect large graphs.</li>
      <li>Export the diagram as a standalone HTML file.</li>
      <li>Open-source (MIT) &ndash; view the code on <a href="https://github.com/yunusemregul/callgraph">GitHub</a>.</li>
    </ul>

    <h3>Usage</h3>
    <ol>
      <li>Place the caret on any Java method.</li>
      <li>Select <em>Generate Call Graph</em> from the context menu, toolbar, tool window, or use the shortcut.</li>
      <li>Explore the graph and click elements to navigate within the IDE.</li>
    </ol>
      ]]></description>

    <!-- Change notes documentation -->
    <change-notes><![CDATA[
    <h3>1.3</h3>
    <ul>
      <li>Added options menu for customizing graph background color</li>
      <li>Fixed crash when opening new projects with CallGraph window open</li>
      <li>Fixed multi-project support to respect active editor context</li>
      <li>Added right-click context menu option to generate call graphs</li>
      <li>Added keyboard shortcut (Alt+Shift+E, Option+Shift+E on macOS) for quick graph generation</li>
    </ul>
    
    <h3>1.1 & 1.2</h3>
    <ul>
      <li>Improved plugin description for better clarity</li>
    </ul>
    
    <h3>1.0</h3>
    <ul>
      <li>Initial release</li>
      <li>Interactive call graph visualization</li>
      <li>Support for Java projects</li>
      <li>Spring controller endpoint detection</li>
    </ul>
  ]]></change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <!-- Define the minimum and maximum build numbers for compatibility -->
    <idea-version since-build="211"/>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="CallGraph" icon="AllIcons.Hierarchy.Subtypes" anchor="bottom"
                    factoryClass="callgraph.callgraph.CallGraphToolWindowFactory"/>
        <projectService serviceImplementation="callgraph.callgraph.settings.CallGraphSettings"/>
    </extensions>
    
    <actions>
        <action id="CallGraph.GenerateCallGraph"
                class="callgraph.callgraph.actions.GenerateCallGraphAction"
                text="Generate Call Graph"
                description="Generate a call graph for the current method"
                icon="AllIcons.Hierarchy.Subtypes">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="alt shift E"/>
        </action>
    </actions>
</idea-plugin>